{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'Home',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const username = ref('');\n    onMounted(() => {\n      const userStr = localStorage.getItem('user');\n      if (userStr) {\n        const user = JSON.parse(userStr);\n        username.value = user.username;\n      } else {\n        router.push('/login');\n      }\n    });\n    const logout = () => {\n      localStorage.removeItem('user');\n      router.push('/login');\n    };\n    const __returned__ = {\n      router,\n      username,\n      logout,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","router","username","userStr","localStorage","getItem","user","JSON","parse","value","push","logout","removeItem"],"sources":["E:/xianyu/tnt/tnt_shopping_front/src/views/Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <el-container>\r\n      <el-header style=\"background: #FAD02C; display: flex; align-items: center; justify-content: space-between;\">\r\n        <h2 style=\"margin:0\">TNT SHOP</h2>\r\n        <div>\r\n          <span>用户: {{ username }}</span>\r\n          <el-button type=\"info\" size=\"small\" style=\"margin-left: 10px\" @click=\"logout\">退出</el-button>\r\n        </div>\r\n      </el-header>\r\n      <el-main>\r\n        <h1>商城首页 - 登录成功</h1>\r\n        <el-empty description=\"商品数据加载中...\"></el-empty>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst router = useRouter()\r\nconst username = ref('')\r\n\r\nonMounted(() => {\r\n  const userStr = localStorage.getItem('user')\r\n  if (userStr) {\r\n    const user = JSON.parse(userStr)\r\n    username.value = user.username\r\n  } else {\r\n    router.push('/login')\r\n  }\r\n})\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem('user')\r\n  router.push('/login')\r\n}\r\n</script>"],"mappings":";;AAmBA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC;IAC1B,MAAME,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAExBC,SAAS,CAAC,MAAM;MACd,MAAMI,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC5C,IAAIF,OAAO,EAAE;QACX,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,OAAO,CAAC;QAChCD,QAAQ,CAACO,KAAK,GAAGH,IAAI,CAACJ,QAAQ;MAChC,CAAC,MAAM;QACLD,MAAM,CAACS,IAAI,CAAC,QAAQ,CAAC;MACvB;IACF,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBP,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;MAC/BX,MAAM,CAACS,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}